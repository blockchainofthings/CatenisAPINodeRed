<script type="text/javascript">
    RED.nodes.registerType('retrieve device info', {
        category: 'catenis',
        color: '#a2a7cd',
        defaults: {
            name: { value: "" },
            device: { value: "", type: "catenis device" },
            deviceId: { value: "" },
            isProdUniqueId: { value: false }
        },
        inputs:1,
        outputs:1,
        icon: "file.png",
        label: function () {
            return this.name || "retrieve device info";
        }
    });
</script>

<script type="text/x-red" data-template-name="retrieve device info">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row">
        <label for="node-input-device"><i class="fa fa-microchip"></i> Device</label>
        <input type="text" id="node-input-device">
    </div>
    <div class="form-row">
        <label for="node-input-deviceId"><i class="fa fa-microchip"></i> Device ID</label>
        <input type="text" id="node-input-deviceId">
    </div>
    <div class="form-row">
        <label for="node-input-isProdUniqueId"><i class="fa fa-tag"></i> Product unique ID</label>
        <input type="checkbox" id="node-input-isProdUniqueId">
    </div>
</script>

<script type="text/x-red" data-help-name="retrieve device info">
    <p>Call Catenis API to retrieve basic identification information from a given device.</p>
    <p>The configuration settings (except for Name and Device) are used to set the default for the corresponding parameters of the Catenis API end-point.</p>
    <p>The node can be used in two modes: interactive, and run-time. In interactive mode, the end user clicks on the action button and the Catenis API end-point is called using the default settings (as specified in the node’s configuration).</p>
    <p>In run-time mode, the node receives a message the payload of which is an object from where the parameters are gotten. Any parameter present in the message payload supersedes the default settings (as specified in the node’s configuration).</p>
    <p>The data returned from a successful call to the Catenis API end-point are passed through the node’s single output.</p>
</script>
